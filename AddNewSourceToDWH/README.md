# AddNewSourceToDWH
![avatar](/images/update_schema.png)

### üìö –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:  
–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–∏—Ç—Ä–∏–Ω—ã –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏—Ö –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ images/              # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
‚îú‚îÄ‚îÄ scripts/             # –°–∫—Ä–∏–ø—Ç—ã.
‚îú‚îÄ‚îÄ.gitignore/           # –§–∞–π–ª—ã, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ Git-–æ–º.
‚îî‚îÄ‚îÄ  README.md/          # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ.
```

### ‚ô¶Ô∏è –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
![model](/images/model.png)
–í —Å—Ö–µ–º–µ `dwh` ‚Äî —Ç–∞–±–ª–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏–π –¥–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã `d_craftsman`, –∑–∞–∫–∞–∑—á–∏–∫–æ–≤ `d_customer` –∏ —Ç–æ–≤–∞—Ä–æ–≤ `d_product`. –¢–∞–∫–∂–µ —Ç–∞–º –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ —Ñ–∞–∫—Ç–æ–≤ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö `f_order`, –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –≤–∏—Ç—Ä–∏–Ω–∞ –ø–æ –º–∞—Å—Ç–µ—Ä–∞–º –∑–∞ –æ—Ç—á—ë—Ç–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã `craftsman_report_datamart` –∏ `MATERIALIZED VIEW` —Å –æ—Ç—á—ë—Ç–æ–º –ø—Ä–æ–¥–∞–∂ –ø–æ –≤—Å–µ–º—É –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—É `orders_report_materialized_view`.–°—Ö–µ–º–∞ `external_source ‚Äî –Ω–æ–≤–∞—è`. –¢–∞–º –∫–∞–∫ —Ä–∞–∑ –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ç–∞–±–ª–∏—Ü—ã –Ω–æ–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É.  

---

![source1](/images/source1.png)  
–í —Å—Ö–µ–º–µ `source1` ‚Äî —à–∏—Ä–æ–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ `craft_market_wide`.  

---

![source2](/images/source2.png)  
–í —Å—Ö–µ–º–µ `source2` ‚Äî –¥–≤–µ –Ω–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã: —Ç–∞–±–ª–∏—Ü–∞ –º–∞—Å—Ç–µ—Ä–æ–≤ –∏ —Ç–æ–≤–∞—Ä–æ–≤ `craft_market_masters_products` –∏ —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑—á–∏–∫–æ–≤ –∏ –∑–∞–∫–∞–∑–æ–≤ `craft_market_orders_customers`.   

---

![source3](/images/source3.png)  
–í —Å—Ö–µ–º–µ `source3` ‚Äî —Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã: –º–∞—Å—Ç–µ—Ä–æ–≤ `craft_market_craftsmans`, –∑–∞–∫–∞–∑—á–∏–∫–æ–≤ `craft_market_customers`, –∑–∞–∫–∞–∑–æ–≤ —Å —Ç–æ–≤–∞—Ä–∞–º–∏ `craft_market_orders`.  

---

### üîß C–∫—Ä–∏–ø—Ç—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –≤ DWH 
  - `SQL_dwh_external_source_upload.sql` - –ü–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–∑ source1, source2, source3, external_source –≤ dwh.  
  - `DDL_customer_report_datamart.sql` - DDL –¥–ª—è –≤–∏—Ç—Ä–∏–Ω—ã.   
  - `SQL_dwh_customer_report_datamart_update.sql` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏—Ç—Ä–∏–Ω—ã. 
